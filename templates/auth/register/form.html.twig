<form 
    hx-post="{{ link('auth.register') }}"
    hx-disabled-elt="button[type='submit']"
>
    <label for="username">Username</label>
    <input 
        type="text"
        id="username"
        name="username"
        {% if form.fields.username.error %}
            aria-invalid="true"
            aria-describedby="invalid-helper-username"
        {% endif %}
        value="{{ form.fields.username.value|default('') }}"
    />

    {% if form.fields.username.error %}
        <small id="invalid-helper-username">
            {{ form.fields.username.error }}
        </small>
    {% endif %}

    <label for="email">E-mail</label>
    <input 
        type="email"
        id="email"
        name="email"
        {% if form.fields.email.error %}
            aria-invalid="true"
            aria-describedby="invalid-helper-email"
        {% endif %}
        value="{{ form.fields.email.value|default('') }}"
    />

    {% if form.fields.email.error %}
        <small id="invalid-helper-email">
            {{ form.fields.email.error }}
        </small>
    {% endif %}

    <label for="password">Password</label>
    <input 
        type="password"
        id="password"
        name="password"
        {% if form.fields.password.error %}
            aria-invalid="true"
            aria-describedby="invalid-helper-password"
        {% endif %}
        value="{{ form.fields.password.value|default('') }}"
    />

    {% if form.fields.password.error %}
        <small id="invalid-helper-password">
            {{ form.fields.password.error }}
        </small>
    {% endif %}

    <label for="repeat_password">Password</label>
    <input 
        type="password"
        id="repeat_password"
        name="repeat_password"
        {% if form.fields.repeat_password.error %}
            aria-invalid="true"
            aria-describedby="invalid-helper-repeat_password"
        {% endif %}
        value="{{ form.fields.repeat_password.value|default('') }}"
    />

    {% if form.fields.repeat_password.error %}
        <small id="invalid-helper-repeat_password">
            {{ form.fields.repeat_password.error }}
        </small>
    {% endif %}

    <button type="submit">
        Create account
    </button>

    <section class="htmx-indicator">
        <div aria-busy="true"></div>
    </section>
</form>